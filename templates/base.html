<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Broker Dashboard</title>
    <!-- <link rel="stylesheet" href="style.css" /> -->
    <link rel="stylesheet" href="../static/styles.css">
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
  </head>
  <body class="container-fluid bg-dark text-bg-primary p-3">
    <div class="container rounded bg-secondary">
      <nav class="navbar navbar-expand-lg rounded bg-body-tertiary">
        <div class="container-fluid">
          <a class="navbar-brand" href="#">Brokers to GWP</a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <div class="category-selector text-secondary">
              <label for="year-select">Year - </label>
              <select
                class="d-inline-flex focus-ring py-1 px-2 text-decoration-none border rounded-2"
                id="year-select"
              >
                <option value="2021">2021</option>
                <option value="2022">2022</option>
              </select>
              <label for="category-select">Category - </label>
              <select
                class="d-inline-flex focus-ring py-1 px-2 text-decoration-none border rounded-2"
                id="category-select"
              >
                <option value="Combined">Combined</option>
                <option value="Open Market">Open Market</option>
                <option value="Facilities">Facilities</option>
              </select>
            </div>
          </div>
        </div>
      </nav>
      <table
        class="table table-hover table-info table-striped rounded"
        id="top-brokers-table"
      >
        <thead>
          <tr>
            <th>Broker Name</th>
            <th>GWP</th>
            <th>Planned GWP</th>
            <th>Difference percentage between Planned and Actual</th>
          </tr>
        </thead>
        <tbody id="broker-data-body">
          <!-- Table data will be generated dynamically -->
        </tbody>
      </table>
      <div class="container-sm figure-img img-fluid rounded bg-light chart-container">
        <canvas class="figure-img img-fluid rounded" id="broker-chart"></canvas>
      </div>
      <nav class="navbar navbar-expand-lg bg-body-tertiary rounded">
        <div class="container-fluid rounded">
          <a class="navbar-brand" href="#">Business Premiums to GWP</a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <div class="filter-container text-secondary">
              <label for="business-type-select">Business Type - </label>
              <select id="business-type-select">
                <option value="Financial Institution">
                  Financial Institution
                </option>
                <option value="Commercial PI">Commercial PI</option>
              </select>
              <label for="class-type-select">Class Type - </label>
              <select id="class-type-select">
                <option value="All">All</option>
                <option value="Crime">Crime</option>
                <option value="D&O">D&O</option>
                <option value="FIPI">FIPI</option>
                <option value="PI">PI</option>
              </select>
            </div>
          </div>
        </div>
      </nav>
      <table
        class="table table-hover table-info table-striped"
        id="business-metrics-table"
      >
        <thead>
          <tr>
            <th>Class of Business</th>
            <th>Class Type</th>
            <th>Planned Premium</th>
            <th>Earned Premium</th>
            <th>GWP</th>
          </tr>
        </thead>
        <tbody id="metrics-data-body">
          <!-- Table data will be generated dynamically -->
        </tbody>
      </table>
    </div>

    <div class="container">
        <div class="chatbox">
            <div class="chatbox__support">
                <div class="chatbox__header">
                    <div class="chatbox__image--header">
                        <img src="https://img.icons8.com/color/48/000000/circled-user-female-skin-type-5--v1.png" alt="image">
                    </div>
                    <div class="chatbox__content--header">
                        <h4 class="chatbox__heading--header">Chat support</h4>
                        <p class="chatbox__description--header">Hi. My name is Matilda. How can I help you?</p>
                    </div>
                </div>
                <div class="chatbox__messages">
                    <div></div>
                </div>
                <div class="chatbox__footer">
                    <input type="text" placeholder="Write a message...">
                    <button class="chatbox__send--footer send__button">Send</button>
                </div>
            </div>
            <div class="chatbox__button">
                <button><img src="../static/images/chatbox-icon.svg" /></button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>
      $SCRIPT_ROOT = {{ request.script_root|tojson }}
    </script>
    <script type="text/javascript" src="{{ url_for('static', filename='app.js') }}"></script>

  </body>
</html>
